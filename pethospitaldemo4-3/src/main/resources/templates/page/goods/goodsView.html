<!DOCTYPE html>
<!--suppress ALL-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="b">
    <div id="all" style="padding-top: 20px">
        <div id="content">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <!-- breadcrumb-->
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <i class="fa fa-eye" style="padding-top: 2px"></i>当前位置:&nbsp;&nbsp;
                                <li class="breadcrumb-item"><a href="/">主页</a></li>
                                <li aria-current="page" class="breadcrumb-item active"><a
                                        th:href="'/goods/list/1?typeId='+${bigTypeId}" th:text="${bigTypeName}"
                                        th:if="${bigTypeId>1}"></a><a href="#" th:text="${bigTypeName}"
                                                                      th:if="${bigTypeId==1}"></a></li>
                                <li class="breadcrumb-item"><a th:href="'/goods/list/1?typeId='+${goods.type.id}"
                                                               th:text="${goods.type.name}"></a></li>
                                <li aria-current="page" class="breadcrumb-item active" th:text="${goods.name}"></li>
                            </ol>
                        </nav>
                    </div>
                    <div class="col-lg-3 order-2 order-lg-1">
                        <div class="card sidebar-menu mb-4">
                            <div class="card-header">
                                <h3 class="h4 card-title">商品分类</h3>
                            </div>
                            <div class="card-body">
                                <ul class="nav nav-pills flex-column category-menu"
                                    th:each="goodsType:${goodsTypeList}">
                                    <li><a th:href="'/goods/list/1?typeId='+${goodsType.id}" class="nav-link active"
                                           th:text="${goodsType.name}"></a>
                                        <ul class="list-unstyled"
                                            th:each="smallGoodsType:${goodsType.smallGoodsTypeList}">
                                            <li><a th:href="'/goods/list/1?typeId='+${smallGoodsType.id}"
                                                   class="nav-link" th:text="${smallGoodsType.name}"></a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9 order-1 order-lg-2">
                        <div id="productMain" class="row">
                            <div class="col-md-6">
                                    <div class="item"><img th:src="@{'/static/images/goodsImage/'+${goods.imageName}}"
                                                           alt="" class="img-fluid"></div>
                            </div>
                            <div class="col-md-6">
                                <div class="box">
                                    <h3 class="text-center" th:text="${goods.name}"></h3>
                                    <p class="price" th:text="'￥'+${goods.sellingPrice}"></p>
                                    <div class="form-inline">
                                        <p>总销量:</p>&nbsp;
                                        <p style="color: red" th:if="${allSaleTotal<=0}">0</p>
                                        <p th:text="${allSaleTotal}+'&nbsp;'" style="color: #0c9076"
                                           th:if="${allSaleTotal>0}"></p>
                                        <p th:text="${goods.unit}"></p>
                                    </div>
                                    <div class="form-inline">
                                        <p>当前库存:</p>&nbsp;
                                        <p th:text="${goods.inventoryQuantity}+'&nbsp;'" style="color: red"
                                           th:if="${goods.inventoryQuantity<1}"></p>
                                        <p th:text="${goods.inventoryQuantity}+'&nbsp;'" style="color: #0c9076"
                                           th:if="${goods.inventoryQuantity>0}"></p>
                                        <p th:text="${goods.unit}"></p>
                                    </div>
                                    <h3 style="color: red"
                                        th:if="${goods.inventoryQuantity<1&&session.currentCustomer!=null}">
                                        当前商品库存为0,不可购买</h3>
                                    <div th:fragment="'div'+${goods.id}" th:id="'div'+${goods.id}" class="div11">
                                        <p class="text-center buttons">
                                            <a th:href="@{'/shopping/buy?goodsId='+${goods.id}}"
                                               class="btn btn-outline-success"
                                               th:if="${session.currentCustomer!=null&&goods.inventoryQuantity>0}"><i
                                                    class="fa fa-location-arrow"></i>购买</a>
                                            <a th:href="'javascript:addShoppingCart('+${goods.id}+')'"
                                               class="btn btn-outline-primary"
                                               th:if="${session.currentCustomer!=null&&goods.inventoryQuantity>0}"><i
                                                    class="fa fa-shopping-cart"></i>添加到购物车</a>
                                            <a href="/login" class="btn btn-danger" title="点击按钮后跳转到登录界面"
                                               th:if="${session.currentCustomer==null}"><i
                                                    class="fa fa-globe"></i>登录后方可购物</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>